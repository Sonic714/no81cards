--个人行动-熔火焰狱
function c79029445.initial_effect(c)
	--
	local e1=Effect.CreateEffect(c)
	e1:SetType(EFFECT_TYPE_ACTIVATE)
	e1:SetCode(EVENT_FREE_CHAIN)
	c:RegisterEffect(e1)
	--to hand 
	local e2=Effect.CreateEffect(c)
	e2:SetDescription(aux.Stringid(79029445,1))
	e2:SetCategory(CATEGORY_TOHAND)
	e2:SetType(EFFECT_TYPE_IGNITION)
	e2:SetRange(LOCATION_FZONE)
	e2:SetCountLimit(1,79029445)
	e2:SetCost(c79029445.thcost)
	e2:SetTarget(c79029445.thtg)
	e2:SetOperation(c79029445.thop)
	c:RegisterEffect(e2)
	--SpecialSummon
	local e3=Effect.CreateEffect(c)
	e3:SetCategory(CATEGORY_SPECIAL_SUMMON)
	e3:SetType(EFFECT_TYPE_FIELD+EFFECT_TYPE_TRIGGER_O)
	e3:SetCode(EVENT_LEAVE_FIELD)
	e3:SetProperty(EFFECT_FLAG_DELAY)
	e3:SetRange(LOCATION_FZONE)
	e3:SetCountLimit(1,19029445)
	e3:SetTarget(c79029445.sptg)
	e3:SetOperation(c79029445.spop)
	c:RegisterEffect(e3)
	--
	local e4=Effect.CreateEffect(c)
	e4:SetDescription(aux.Stringid(79029445,2))
	e4:SetCategory(CATEGORY_TOHAND+CATEGORY_REMOVE)
	e4:SetType(EFFECT_TYPE_IGNITION)
	e4:SetRange(LOCATION_FZONE)
	e4:SetCountLimit(1,09029445+EFFECT_COUNT_CODE_DUEL)
	e4:SetCost(c79029445.xxcost)
	e4:SetTarget(c79029445.xxtg)
	e4:SetOperation(c79029445.xxop)
	c:RegisterEffect(e4)
end
function c79029445.thcost(e,tp,eg,ep,ev,re,r,rp,chk)
	if chk==0 then return Duel.CheckLPCost(tp,4000) end  
	Duel.PayLPCost(tp,4000)
end
function c79029445.thfil(c)
	return c:IsAbleToHand() and c:IsSetCard(0x95)
end
function c79029445.thtg(e,tp,eg,ep,ev,re,r,rp,chk)
	if chk==0 then return Duel.IsExistingMatchingCard(c79029445.thfil,tp,LOCATION_DECK,0,1,nil) end
	Duel.SetOperationInfo(0,CATEGORY_TOHAND,nil,1,tp,LOCATION_DECK)
end
function c79029445.thop(e,tp,eg,ep,ev,re,r,rp,chk)
	Debug.Message("见识过我的实力之后，开始重视我了？")
	Duel.Hint(HINT_SOUND,0,aux.Stringid(79029445,4)) 
	local g=Duel.GetMatchingGroup(c79029445.thfil,tp,LOCATION_DECK,0,nil) 
	if g:GetCount()<=0 then return end
	Duel.Hint(HINT_SELECTMSG,tp,HINTMSG_ATOHAND)
	sg=g:Select(tp,1,1,nil)
	Duel.SendtoHand(sg,tp,REASON_EFFECT)
	Duel.ConfirmCards(1-tp,sg)
	Duel.BreakEffect()
	if Duel.IsExistingMatchingCard(Card.IsCode,tp,LOCATION_EXTRA,0,1,nil,79029325) and Duel.CheckLPCost(tp,Duel.GetLP(tp)/2) and Duel.GetFlagEffect(tp,79029445)==0 and Duel.SelectYesNo(tp,aux.Stringid(79029445,0)) then 
	Duel.PayLPCost(tp,Duel.GetLP(tp)/2)
	Debug.Message("不要多说，我知道。")
	Duel.Hint(HINT_SOUND,0,aux.Stringid(79029445,5)) 
	sc=Duel.SelectMatchingCard(tp,Card.IsCode,tp,LOCATION_EXTRA,0,1,1,nil,79029325)
	Duel.ConfirmCards(1-tp,sc)
	tc=Duel.CreateToken(tp,79029324)
	Duel.SendtoHand(tc,tp,REASON_EFFECT)
	Duel.ConfirmCards(1-tp,tc)
	Duel.RegisterFlagEffect(tp,79029445,0,0,0)
	end
end
function c79029445.spfil(c,e,tp)
	return c:IsCanBeSpecialSummoned(e,0,tp,true,false) and c:IsType(TYPE_XYZ) and c:IsSetCard(0xa900)
end
function c79029445.sptg(e,tp,eg,ep,ev,re,r,rp,chk)
	if chk==0 then return eg:IsExists(c79029445.spfil,1,nil,e,tp) end
	Duel.SetOperationInfo(0,CATEGORY_SPECIAL_SUMMON,nil,1,tp,0)
end
function c79029445.spop(e,tp,eg,ep,ev,re,r,rp)
	local mg=eg:Filter(c79029445.spfil,nil,e,tp)
	if mg:GetCount()<=0 then return end
	Debug.Message("看来你已经对我的源石技艺有所了解了，希望你自己也清楚其危险性。")
	Duel.Hint(HINT_SOUND,0,aux.Stringid(79029445,6)) 
	Duel.Hint(HINT_SELECTMSG,tp,HINTMSG_SPSUMMON)
	local sg=mg:Select(tp,1,1,nil):GetFirst()
	Duel.SpecialSummon(sg,0,tp,tp,true,false,POS_FACEUP)
	Duel.Recover(tp,sg:GetAttack(),REASON_EFFECT)
end
function c79029445.xxcost(e,tp,eg,ep,ev,re,r,rp,chk)
	if chk==0 then return Duel.GetLP(tp)<=4000 and Duel.CheckLPCost(tp,Duel.GetLP(tp)-1) end
	e:SetLabel(Duel.GetLP(tp)-1)
	Duel.PayLPCost(tp,Duel.GetLP(tp)-1)
	Debug.Message("看重的不是这能力，而是我本身？既然你都这样说了，那我也拿出相应的努力来回报你吧。")
	Duel.Hint(HINT_SOUND,0,aux.Stringid(79029445,7)) 
end
function c79029445.xxtg(e,tp,eg,ep,ev,re,r,rp,chk)
	local x=e:GetLabel()
	if chk==0 then return true end
	Duel.SetOperationInfo(0,CATEGORY_TOHAND,nil,1,tp,0)
	Duel.SetOperationInfo(0,CATEGORY_REMOVE,nil,math.floor(x/300),0,0)
end
function c79029445.xxop(e,tp,eg,ep,ev,re,r,rp)
	if Duel.SelectYesNo(tp,aux.Stringid(79029445,3)) then
	e:GetHandler():SetCardData(CARDDATA_CODE,79030000)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030001)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030002)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030003)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030004)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030005)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030006)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030007)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030008)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030009)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030010)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030011)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030012)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030013)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030014)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030015)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030016)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030017)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030018)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030019)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030020)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030021)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030022)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030023)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030024)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030025)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030026)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030027)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030028)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030029)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030030)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030031)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030032)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030033)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030034)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030035)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030036)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030037)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030038)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030039)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030040)
	Duel.Hint(HINT_SOUND,0,aux.Stringid(79029445,8)) 
	e:GetHandler():SetCardData(CARDDATA_CODE,79030041)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030042)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030043)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030044)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030045)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030046)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030047)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030048)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030049)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030050)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030051)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030052)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030053)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030054)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030055)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030056)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030057)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030058)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030059)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030060)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030061)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030062)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030063)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030064)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030065)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030066)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030067)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030068)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030069)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030070)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030071)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030072)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030073)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030074)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030075)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030076)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030077)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030078)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030079)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030080)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030081)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030082)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030083)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030084)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030085)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030086)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030087)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030088)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030089)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030090)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030091)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030092)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030093)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030094)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030095)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030096)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030097)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030098)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030099)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030100)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030101)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030102)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030103)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030104)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030105)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030106)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030107)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030108)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030109)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030110)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030111)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030112)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030113)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030114)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030115)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030116)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030117)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030118)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030119)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030120)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030121)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030122)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030123)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030124)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030125)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030126)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030127)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030128)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030129)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030130)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030131)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030132)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030133)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030134)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030135)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030136)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030137)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030138)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030139)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030140)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030141)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030142)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030143)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030144)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030145)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030146)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030147)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030148)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030149)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030150)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030151)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030152)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030153)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030154)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030155)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030156)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030157)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030158)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030159)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030160)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030161)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030162)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030163)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030164)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030165)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030166)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030167)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030168)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030169)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030170)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030171)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030172)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030173)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030174)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030175)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030176)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030177)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030178)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030179)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030180)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030181)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030182)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030183)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030184)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030185)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030186)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030187)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030188)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030189)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030190)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030191)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030192)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030193)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030194)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030195)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030196)
	e:GetHandler():SetCardData(CARDDATA_CODE,79030197)
	e:GetHandler():SetCardData(CARDDATA_CODE,79029445)
	end
	local tc=Duel.CreateToken(tp,79029339)
	Duel.SendtoHand(tc,tp,REASON_EFFECT)
	Duel.ConfirmCards(1-tp,tc)
	local x=math.floor(e:GetLabel()/300)
	local g1=Duel.GetDecktopGroup(tp,x)
	local g2=Duel.GetDecktopGroup(1-tp,x)
	g1:Merge(g2)
	Duel.Remove(g1,POS_FACEDOWN,REASON_EFFECT)
end












